# A0162877N
###### \java\guitests\BookCommandTest.java
``` java
/**
 * Book command GUI jUnit test
 */
public class BookCommandTest extends TaskManagerGuiTest {

    public static final String COMMAND_WORD = "book";
    public static final String MESSAGE_DUPLICATE_BOOKING = "This booking already exists in the task manager";
    public static final String MESSAGE_USAGE = COMMAND_WORD + ": Books time slots for a task. "
            + "Parameters: TITLE [#LABEL] on DATE STARTTIME to ENDTIME, DATE STARTTIME to ENDTIME...\n"
            + "Example: " + COMMAND_WORD
            + " Meet John Doe #friends #owesMoney on 31 Mar 2017 2pm to 5pm,"
            + " 01 Oct 2017 2pm to 5pm, 30 Oct 2017 1pm to 2pm";
    public static final String MESSAGE_BOOKING_CONSTRAINTS =
            "Input dates are in the wrong format, please try again!";

    @Test
    public void book_isMutating_ReturnTrue() throws IllegalDateTimeValueException,
            IllegalValueException, CommandException {
        Set<String> emptySet = new HashSet<String>();
        BookCommand bc = new BookCommand("valid", emptySet, "");
        assertTrue(bc.isMutating());
    }

    @Test
    public void book_ValidBookCommand_ReturnTrue()
            throws IllegalValueException, CommandException, IllegalDateTimeValueException {
        TestTask taskToAdd = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withLabels("friends")
                .withBookings("10-10-2017 2pm to 5pm",
                        "11-10-2017 2pm to 5pm",
                        "12-10-2017 2pm to 5pm")
                .build();
        commandBox.runCommand("book Complete booking #friends on 10-10-2017 2pm to 5pm,"
                        + " 11-10-2017 2pm to 5pm, 12-10-2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));
        assertTrue(addedCard.isSameTask(taskToAdd));

        taskToAdd = (new TaskBuilder())
                .withTitle("Meeting with family")
                .withDeadline("")
                .withLabels("family")
                .withBookings("10-10-2017 3pm to 5pm",
                        "11-10-2017 1am to 5pm")
                .build();
        commandBox.runCommand("book Meeting with family #family on 10-10-2017 3pm to 5pm,"
                        + " 11-10-2017 1am to 5pm");
        addedCard = taskListPanel.navigateToTask("Meeting with family");
        assertTrue(addedCard.getTitle().equals("Meeting with family"));
        assertTrue(addedCard.isSameTask(taskToAdd));

        taskToAdd = (new TaskBuilder())
                .withTitle("Project Meeting")
                .withDeadline("")
                .withLabels("CS2103")
                .withBookings("09-10-2017 3pm to 5pm")
                .build();
        commandBox.runCommand("book Project Meeting #CS2103 on 09-10-2017 3pm to 5pm");
        addedCard = taskListPanel.navigateToTask("Project Meeting");
        assertTrue(addedCard.getTitle().equals("Project Meeting"));
        assertTrue(addedCard.isSameTask(taskToAdd));
    }

    @Test
    public void book_DuplicateBooking_ReturnDuplicateMessage() {
        commandBox.runCommand("book Complete booking #friends on 10-10-2017 2pm to 5pm,"
                + " 11-10-2017 2pm to 5pm, 12-10-2017 2pm to 5pm");
        commandBox.runCommand("book Complete booking #friends on 10-10-2017 2pm to 5pm,"
                + " 11-10-2017 2pm to 5pm, 12-10-2017 2pm to 5pm");

        assertResultMessage(MESSAGE_DUPLICATE_BOOKING);
    }

    @Test
    public void book_InvalidCommand() {
        commandBox.runCommand("boo");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);

        commandBox.runCommand("BO");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);

        commandBox.runCommand("BOOK");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);

        commandBox.runCommand("booksomething");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);

        commandBox.runCommand("book");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));

        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm,");
        assertResultMessage(MESSAGE_BOOKING_CONSTRAINTS);

        commandBox.runCommand("book Complete booking #friends 10 Oct 2017 2pm,");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));
    }

}
```
###### \java\guitests\ConfirmCommandTest.java
``` java
/**
 * Confirm command GUI jUnit test
 */
public class ConfirmCommandTest extends TaskManagerGuiTest {

    public static final String COMMAND_WORD = "confirm";
    public static final String MESSAGE_USAGE = COMMAND_WORD + ": Confirms the bookings of the task identified "
            + "by the index number used in the last task listing. "
            + "Other booking slots will be removed.\n"
            + "Parameters: INDEX (index of the task in the current task list and must be a positive integer)\n"
            + "Parameters: INDEX (index of the time slot to confirm and must be a positive integer)\n"
            + "Example: " + COMMAND_WORD + " 1 1";
    public static final String MESSAGE_NO_SUCH_BOOKING = "Index provided is invalid.\n" + MESSAGE_USAGE;
    public static final String MESSAGE_TASK_NO_BOOKING = "This task does not have bookings to confirm.";
    public static final String MESSAGE_DUPLICATE_TASK = "This task already exists in the task manager.";

    @Test
    public void confirm_isMutating_ReturnTrue() throws IllegalDateTimeValueException,
            IllegalValueException, CommandException {
        ConfirmCommand cc = new ConfirmCommand(1, 1);
        assertTrue(cc.isMutating());
    }

    @Test
    public void confirm_invalidCommand_ReturnTrue() {
        commandBox.runCommand("confirm ");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, ConfirmCommand.MESSAGE_USAGE));
    }

    @Test
    public void confirm_invalidCommand() throws IllegalDateTimeValueException, IllegalValueException, CommandException {
        commandBox.runCommand("confirm -1 -2");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));

        commandBox.runCommand("confirm a b");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));

        commandBox.runCommand("confirm something something");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));

        commandBox.runCommand("confirm ! ?");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, MESSAGE_USAGE));
    }

    @Test
    public void confirm_validOutOfRangeIndex() throws IllegalDateTimeValueException,
            IllegalValueException, CommandException {
        commandBox.runCommand("confirm 18 2");
        assertResultMessage(Messages.MESSAGE_INVALID_TASKS_DISPLAYED_INDEX);

        commandBox.runCommand("confirm 12 2");
        assertResultMessage(Messages.MESSAGE_INVALID_TASKS_DISPLAYED_INDEX);
    }

    @Test
    public void confirm_ValidConfirmCommand_ReturnTrue() {
        commandBox.runCommand("book Complete booking #friends on 19 May 2017 2pm to 5pm, 12 May 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));
        System.out.println(taskListPanel.getNumberOfTasks());

        commandBox.runCommand("confirm 1 2");
        TaskCardHandle confirmedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println(confirmedCard.getStartTime());
        System.out.println(confirmedCard.getDeadline());
        assertFalse(confirmedCard.getStartTime() == null);
        assertFalse(confirmedCard.getDeadline() == null);

        commandBox.runCommand("undo");
        confirmedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println(confirmedCard.getStartTime());
        System.out.println(confirmedCard.getDeadline());
        assertTrue(confirmedCard.getStartTime() == null);
        assertTrue(confirmedCard.getDeadline() == null);
    }
}
```
###### \java\guitests\EditBookingCommandTest.java
``` java
/**
 * Editbooking command GUI jUnit test
 */
public class EditBookingCommandTest extends TaskManagerGuiTest {

    @Test
    public void editbooking_isMutating_ReturnTrue()
            throws IllegalDateTimeValueException, IllegalValueException, CommandException {
        EditBookingCommand ebc = new EditBookingCommand(1, 1, "");
        assertTrue(ebc.isMutating());
    }

    @Test
    public void editbooking_addBookingDates_success() throws Exception {
        TestTask taskToAdd = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withStartTime("")
                .withLabels("friends")
                .withBookings("10-10-2017 2pm to 5pm",
                "11 Oct 2017 2pm to 5pm",
                "12 Oct 2017 2pm to 5pm",
                "13 Oct 2017 2pm to 5pm",
                "14 Oct 2017 2pm to 5pm",
                "16 Oct 2017 2pm to 5pm")
                .build();

        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 8 add 13 Oct 2017 2pm to 5pm,"
                + " 14 Oct 2017 2pm to 5pm, 16 Oct 2017 2pm to 5pm");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println("Comparing");
        assertMatching(taskToAdd, addedCard);
    }

    @Test
    public void editbooking_invalidAddBookingCommand_ReturnsError() throws Exception {
        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 9 add 13 Oct 2017 2pm,"
                + " 14 Oct 2017 7pm, 16 ");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 0 add 13 Oct 2017 2pm,"
                + " 14 Oct 2017 7pm, 16 ");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking -1 add 13 Oct 2017 2pm,"
                + " 14 Oct 2017 7pm, 16 ");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditBookingCommand.MESSAGE_USAGE));
    }

    @Test
    public void editbooking_removeBookingDates_success() throws Exception {
        TestTask taskToAdd = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withStartTime("")
                .withLabels("friends")
                .withBookings("11 Oct 2017 2pm to 5pm",
                "12 Oct 2017 2pm to 5pm",
                "13 Oct 2017 2pm to 5pm",
                "14 Oct 2017 2pm to 5pm",
                "16 Oct 2017 2pm to 5pm")
                .build();

        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm,"
                + " 13 Oct 2017 2pm to 5pm, 14 Oct 2017 2pm to 5pm,"
                + " 16 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 8 remove 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println("Comparing");
        assertMatching(taskToAdd, addedCard);
    }

    @Test
    public void editbooking_invalidRemoveBookingCommand_ReturnsError() throws Exception {
        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm,"
                + " 13 Oct 2017 2pm to 5pm, 14 Oct 2017 2pm to 5pm,"
                + " 16 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 10 remove 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(Messages.MESSAGE_INVALID_TASKS_DISPLAYED_INDEX);

        commandBox.runCommand("editbooking 0 remove 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(Messages.MESSAGE_INVALID_TASKS_DISPLAYED_INDEX);

        commandBox.runCommand("editbooking -1 remove 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 8 remove 7");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(EditBookingCommand.MESSAGE_NO_SUCH_BOOKING);

        commandBox.runCommand("editbooking 8 remove 0");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(EditBookingCommand.MESSAGE_NO_SUCH_BOOKING);

        commandBox.runCommand("editbooking 8 remove -1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));
    }

    @Test
    public void editbooking_changeBookingDates_success() throws Exception {
        TestTask taskToAdd = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withStartTime("")
                .withLabels("friends")
                .withBookings("10-10-2017 2pm to 5pm",
                "11 Oct 2017 2pm to 5pm",
                "12 Oct 2017 2pm to 5pm",
                "13 Oct 2017 2pm to 5pm",
                "14 Oct 2017 2pm to 5pm",
                "16 Oct 2017 2pm to 5pm")
                .build();

        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 8 add 13 Oct 2017 2pm to 5pm,"
                + " 14 Oct 2017 2pm to 5pm, 16 Oct 2017 2pm to 5pm");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println("Comparing");
        assertMatching(taskToAdd, addedCard);

        TestTask editedTask = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withStartTime("")
                .withLabels("friends")
                .withBookings("11 Oct 2017 2pm to 5pm",
                "12 Oct 2017 2pm to 5pm",
                "13 Oct 2017 2pm to 5pm",
                "14 Oct 2017 2pm to 5pm",
                "16 Oct 2017 2pm to 5pm",
                "17 Oct 2017 2pm to 5pm")
                .build();

        commandBox.runCommand("editbooking 8 change 1 17 Oct 2017 2pm to 5pm");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        System.out.println("Comparing");
        assertMatching(editedTask, addedCard);
    }

    @Test
    public void editbooking_invalidChangeBookingCommand_ReturnsError() throws Exception {
        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm,"
                + " 13 Oct 2017 2pm to 5pm, 14 Oct 2017 2pm to 5pm,"
                + " 16 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 10 change 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 0 change 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking -1 change 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 8 change 7");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 8 change 0");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 8 change -1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));
    }

    @Test
    public void editbooking_invalidEditBookingCommand_ReturnsError() throws Exception {
        commandBox.runCommand("book Complete booking #friends on 10 Oct 2017 2pm to 5pm,"
                + " 11 Oct 2017 2pm to 5pm, 12 Oct 2017 2pm to 5pm,"
                + " 13 Oct 2017 2pm to 5pm, 14 Oct 2017 2pm to 5pm,"
                + " 16 Oct 2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));

        commandBox.runCommand("editbooking 10 anyhow");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 0cccsc");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 7");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking change");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));

        commandBox.runCommand("editbooking 8 invalid 1");
        addedCard = taskListPanel.navigateToTask("Complete booking");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT,
                EditBookingCommand.MESSAGE_USAGE));
    }
}
```
###### \java\guitests\FindCommandTest.java
``` java
/**
 * Find command jUnit GUI test
 */
public class FindCommandTest extends TaskManagerGuiTest {

    @Test
    public void find_IsMutating() throws IllegalDateTimeValueException {
        FindCommand fc = new FindCommand("today");
        assertFalse(fc.isMutating());
    }

    @Test
    public void find_nonEmptyList() {
        assertFindResult("find 38"); // no results
    }

    @Test
    public void find_nonEmptyListLabel() {
        assertFindResult("find owesMoney", td.task2); // find only 1 label
    }

    @Test
    public void find_nonEmptyListMultipleLabel() {
        assertFindResult("find owesMoney friends", td.task1, td.task2); //find 2 label
    }

    @Test
    public void find_nonEmptyListStartEndDate_singleResult() {
        assertFindResult("find by 10-11-2017 2359", td.task6); // 1 result
        assertFindResult("find from today to 11-11-2017 0000", td.task6); // 1 result
    }

    @Test
    public void find_nonEmptyListStartEndDate_pass() {
        assertFindResult("find from today to christmas",
                td.task1, td.task2, td.task3, td.task4, td.task5, td.task6, td.task7); // 7 result

        assertFindResult("find from 25-12-2017 2359 to 01-01-2017 2359",
                td.task1, td.task2, td.task3, td.task4, td.task5, td.task6, td.task7); // 7 result

        assertFindResult("find by christmas",
                td.task1, td.task2, td.task3, td.task4, td.task5, td.task6, td.task7); // 7 result

        assertFindResult("find by 25-12-2017",
                td.task1, td.task2, td.task3, td.task4, td.task5, td.task6, td.task7); // 7 result

        assertFindResult("find by 01-01-2016");
    }

    @Test
    public void find_PartialSearch_ReturnTrue() {
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("find com");
        assertTrue(taskListPanel.getNumberOfTasks() == 7);
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("find om");
        assertTrue(taskListPanel.getNumberOfTasks() == 7);
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("find m");
        assertTrue(taskListPanel.getNumberOfTasks() == 7);
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void find_EmptyList() {
        commandBox.runCommand("clear");
        assertFindResult("find task 1"); // no results
        assertTrue(taskListPanel.getNumberOfTasks() == 0);
    }

    @Test
    public void find_InvalidCommand_fail() {
        commandBox.runCommand("findsomething");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
        commandBox.runCommand("finds");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
        commandBox.runCommand("fi");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }

    @Test
    public void find_ValidCommandNoInput_fail() {
        commandBox.runCommand("find"); // no input here
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, FindCommand.MESSAGE_USAGE));
    }

    @Test
    public void find_InvalidDate_fail() {
        commandBox.runCommand("find by from to ");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, FindCommand.MESSAGE_USAGE));
    }

    @Test
    public void find_ValidFindCommand_ReturnTrue() {
        commandBox.runCommand("find from to");
        assertTrue(taskListPanel.getNumberOfTasks() == 0);

        commandBox.runCommand("find by");
        assertTrue(taskListPanel.getNumberOfTasks() == 0);
    }

    private void assertFindResult(String command, TestTask... expectedHits) {
        commandBox.runCommand(command);
        assertListSize(expectedHits.length);
        assertResultMessage(expectedHits.length + " tasks listed!");
        assertTrue(taskListPanel.isListMatching(expectedHits));
    }
}
```
###### \java\guitests\guihandles\TaskCardHandle.java
``` java
    private List<String> getBookings(Region bookingsContainer) {
        if (bookingsContainer == null) {
            return new ArrayList<String>();
        }
        return bookingsContainer.getChildrenUnmodifiable().stream().map(node -> ((Labeled) node).getText())
                .collect(Collectors.toList());
    }

    private List<String> getBookings(UniqueBookingList bookings) {
        return bookings.asObservableList().stream().map(booking -> booking.toString()).collect(Collectors.toList());
    }

    private Region getLabelsContainer() {
        return guiRobot.from(node).lookup(LABELS_FIELD_ID).query();
    }

    private Region getBookingsContainer() {
        return guiRobot.from(node).lookup(BOOKING_FIELD_ID).query();
    }

```
###### \java\guitests\guihandles\TaskCardHandle.java
``` java
    private boolean isGuiBookingMatch(List<String> taskBookings) {
        boolean isEqual = true;
        for (int i = 0; i < getBooking().size(); i++) {
            String guiBooking = getBooking().get(i).trim();
            String taskBooking = taskBookings.get(i).trim();
            if (!guiBooking.equals(taskBooking)) {
                isEqual = false;
            }
        }
        isEqual = isEqual && (getBooking().size() == taskBookings.size());
        return isEqual;
    }

```
###### \java\guitests\LeftPanelTest.java
``` java
    @Test
    public void today_TestTodayPanel_ReturnTrue() {
        TestTask[] testTask = td.getTypicalTasks();
        ArrayList<TestTask> filteredTestTask = new ArrayList<TestTask>();

        for (TestTask task : testTask) {
            if (isTaskInToday(task)) {
                filteredTestTask.add(task);
            }
        }

        testTask = new TestTask[filteredTestTask.size()];
        for (int i = 0; i < filteredTestTask.size(); i++) {
            testTask[i] = filteredTestTask.get(i);
        }

        leftPanel.clickOnToday();
        assertTrue(taskListPanel.isListMatching(testTask));
    }

    @Test
    public void label_TestFirstLabel_ReturnTrue() {
        TestTask[] testTask = td.getTasksByIndex(0);
        commandBox.runCommand("delete 2");
        leftPanel.clickOnFirstLabel();
        assertTrue(taskListPanel.isListMatching(testTask));
    }

    public boolean isTaskInToday(ReadOnlyTask task) {
        Date endDate = DateTimeUtil.getEndDate();
        Date startDate = DateTimeUtil.getStartDate();

        if (!task.isCompleted() && task.getDeadline().isPresent() && task.getStartTime().isPresent()) {
            return (task.getDeadline().get().getDateTime().before(endDate)
                    && task.getDeadline().get().getDateTime().after(startDate))
                    || task.getDeadline().get().getDateTime().equals(endDate);
        } else if (!task.isCompleted() && task.getDeadline().isPresent()) {
            return task.getDeadline().get().getDateTime().before(startDate)
                    || task.getDeadline().get().getDateTime().equals(startDate);
        }
        return false;
    }
}
```
###### \java\guitests\ListCommandTest.java
``` java
/**
 * List command GUI jUnit test
 */
public class ListCommandTest extends TaskManagerGuiTest {

    @Test
    public void list_IsMutating() throws IllegalDateTimeValueException {
        ListCommand lc = new ListCommand();
        assertFalse(lc.isMutating());
    }

    @Test
    public void list_AllTask_ReturnTrue() {
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("list");
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void list_TaskByDate_ReturnTrue() {
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("list by 12-12-2017");

        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("list by christmas");
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("list by Mar 2018");
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("list by 01-01-2018");
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void list_invalidCommand() {
        commandBox.runCommand("lis");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }

    @Test
    public void list_TaskByDateTime_ReturnTrue() {
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("list by 12-12-2017 0000");
        assertTrue(taskListPanel.isListMatching(currentList)); // No change should occur

        commandBox.runCommand("list by ");
        assertTrue(taskListPanel.isListMatching(currentList)); // No change should occur
        assertListResult("list by 2301 10-11-2017", td.task6); // Only task 6 should appear
        assertListResult("list from 0000 10-11-2017 to 2359 10-11-2017", td.task6); // Only task 6 should appear
    }

```
###### \java\guitests\UndoCommandTest.java
``` java
/**
 * Undo command jUnit GUI test
 */
public class UndoCommandTest extends TaskManagerGuiTest {

    @Test
    public void undo_IsMutating_ReturnTrue() {
        UndoCommand undo = new UndoCommand();
        assertTrue(undo.isMutating());
    }

    @Test
    public void undo_NothingToUndo_ReturnTrue() {
        UndoManager.getInstance().clear();
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("undo");
        //No change should occur and show error message
        assertResultMessage(UndoCommand.MESSAGE_UNSUCCESSFUL_UNDO);
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void undo_InvalidCommand() {
        commandBox.runCommand("un");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
        commandBox.runCommand("undosomething");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
        commandBox.runCommand("und");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }

    @Test
    public void undo_NoMutatingCommand_ReturnTrue() {
        UndoManager.getInstance().clear();
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("find");
        commandBox.runCommand("undo");
        assertResultMessage(UndoCommand.MESSAGE_UNSUCCESSFUL_UNDO);
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("list");
        commandBox.runCommand("undo");
        assertResultMessage(UndoCommand.MESSAGE_UNSUCCESSFUL_UNDO);
        assertTrue(taskListPanel.isListMatching(currentList));

        commandBox.runCommand("help");
        commandBox.runCommand("undo");
        assertResultMessage(UndoCommand.MESSAGE_UNSUCCESSFUL_UNDO);
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void undo_EditLabelValid_ReturnTrue() throws IllegalValueException {
        UndoManager.getInstance().clear();
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("edit #friends #allies");
        commandBox.runCommand("undo");
        commandBox.runCommand("undo");

        assertTrue(td.getTypicalTasks().length == taskListPanel.getNumberOfTasks());
        assertTrue(taskListPanel.isListMatching(currentList));
    }

    @Test
    public void undo_AddTask_ReturnTrue() {
        UndoManager.getInstance().clear();
        //add one task
        TestTask[] currentList = td.getTypicalTasks();
        TestTask taskToAdd = td.task8;
        assertAddSuccess(taskToAdd, currentList);
        currentList = TestUtil.addTasksToList(currentList, taskToAdd);
        assertTrue(taskListPanel.isListMatching(currentList));

        //undo command
        commandBox.runCommand("undo");
        taskToAdd = td.task8;
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));

        //undo command
        commandBox.runCommand("undo");
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));

        //empty list and undo
        commandBox.runCommand("clear");
        commandBox.runCommand("undo");
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));
    }

    @Test
    public void undo_BookTask_ReturnTrue()
            throws IllegalValueException, CommandException, IllegalDateTimeValueException {
        UndoManager.getInstance().clear();
        //add one booking
        TestTask taskToAdd = (new TaskBuilder())
                .withTitle("Complete booking")
                .withDeadline("")
                .withLabels("friends")
                .withBookings("10-10-2017 2pm to 5pm",
                        "11-10-2017 2pm to 5pm",
                        "12-10-2017 2pm to 5pm")
                .build();
        commandBox.runCommand("book Complete booking #friends on 10-10-2017 2pm to 5pm,"
                + " 11-10-2017 2pm to 5pm, 12-10-2017 2pm to 5pm");
        TaskCardHandle addedCard = taskListPanel.navigateToTask("Complete booking");
        assertTrue(addedCard.getTitle().equals("Complete booking"));
        assertTrue(addedCard.isSameTask(taskToAdd));

        commandBox.runCommand("undo");
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));
    }

    @Test
    public void undo_DeleteTask_ReturnTrue() {
        UndoManager.getInstance().clear();
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("delete 1");
        assertTrue(taskListPanel.getNumberOfTasks() == (currentList.length - 1));

        commandBox.runCommand("undo");
        assertTrue(taskListPanel.getNumberOfTasks() == currentList.length);
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));

        commandBox.runCommand("delete 2");
        assertTrue(taskListPanel.getNumberOfTasks() == (currentList.length - 1));

        commandBox.runCommand("undo");
        assertTrue(taskListPanel.getNumberOfTasks() == currentList.length);
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));
    }

    @Test
    public void undo_MarkTaskCompleted_ReturnTrue() {
        UndoManager.getInstance().clear();
        TestTask[] currentList = td.getTypicalTasks();
        commandBox.runCommand("mark 1 completed");
        assertTrue(taskListPanel.getNumberOfTasks() == (currentList.length - 1));

        commandBox.runCommand("undo");
        assertTrue(taskListPanel.getNumberOfTasks() == currentList.length);
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));

        commandBox.runCommand("mark 2 completed");
        assertTrue(taskListPanel.getNumberOfTasks() == (currentList.length - 1));

        commandBox.runCommand("undo");
        assertTrue(taskListPanel.getNumberOfTasks() == currentList.length);
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));
    }

    private void assertAddSuccess(TestTask taskToAdd, TestTask... currentList) {
        commandBox.runCommand(taskToAdd.getAddCommand());

        //confirm the new card contains the right data
        TaskCardHandle addedCard = taskListPanel.navigateToTask(taskToAdd.getTitle().title);
        assertMatching(taskToAdd, addedCard);

        //confirm the list now contains all previous tasks plus the new tasks
        TestTask[] expectedList = TestUtil.addTasksToList(currentList, taskToAdd);
        assertTrue(taskListPanel.isListMatching(expectedList));
    }
}
```
###### \java\seedu\address\commons\util\DateTimeUtilTest.java
``` java
/**
 * Date Time Util jUnit test
 */
public class DateTimeUtilTest {

    public static final String DEFAULT_STARTTIME = "00:00:00";
    public static final String DEFAULT_ENDTIME = "23:59:59";
    public static final String DATE_DELIMITER = ",";

    @SuppressWarnings("deprecation")
    @Test
    public void isEndDateSame_ReturnTrue() {
        Date endTime = new Date(2222, 1, 1);
        endTime.setHours(23);
        endTime.setMinutes(59);
        endTime.setSeconds(59);
        assertTrue(DateTimeUtil.getEndDate().equals(endTime));
    }

    @SuppressWarnings("deprecation")
    @Test
    public void isEndDateSame_ReturnFalse() {
        Date endTime = new Date(2222, 1, 1);
        endTime.setHours(21);
        endTime.setMinutes(59);
        endTime.setSeconds(59);
        assertFalse(DateTimeUtil.getEndDate().equals(endTime));
    }

    @Test
    public void isStartDateSame_ReturnTrue() {
        Date dateToCompare = DateTimeUtil.getStartDate();
        Date startDate = new Date(dateToCompare.getTime());
        assertTrue(dateToCompare.equals(startDate));
    }

    @SuppressWarnings("deprecation")
    @Test
    public void isStartDateSame_ReturnFalse() {
        Date startDate = new Date();
        startDate.setHours(0);
        startDate.setMinutes(0);
        startDate.setSeconds(1);
        assertFalse(DateTimeUtil.getStartDate().equals(startDate));
    }

    @Test
    public void isSameString_ReturnTrue() {
        assertTrue(DateTimeUtil.DEFAULT_STARTTIME.equals(DEFAULT_STARTTIME));
        assertTrue(DateTimeUtil.DEFAULT_ENDTIME.equals(DEFAULT_ENDTIME));
        assertTrue(DateTimeUtil.DATE_INDEX == 0);
        assertTrue(DateTimeUtil.DATE_DELIMITER.equals(DATE_DELIMITER));
    }
}
```
